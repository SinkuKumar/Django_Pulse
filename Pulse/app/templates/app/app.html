{% extends 'base.html' %} 
{% load static %} 

{% block title %}Pulse App{%endblock %}

{% block extra_head %}
<style>
  @media (min-width: 768px) {
    #layout {
      display: flex;
    }
    #sidebar {
      width: 250px;
      flex-shrink: 0;
      background: #f8f9fa;
      border-right: 1px solid #ddd;
      padding: 1rem;
      height: calc(100vh - 56px);
      position: sticky;
      top: 56px;
    }
    #content {
      flex-grow: 1;
      padding: 1rem;
    }
  }
</style>

{% endblock %}

{% block content %}

<!-- Navbar -->
<nav class="navbar navbar-light bg-light d-flex justify-content-between px-3">
  <button class="btn btn-primary d-md-none" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasSidebar" aria-label="Open menu">
    â˜°
  </button>
  <a class="navbar-brand" href="{% url 'home' %}"><img src="{% static 'svg/brand/Pulse_Full.svg' %}" alt="Pulse Logo" height="48px"></a>
  {% if request.user.is_authenticated %}
    <form class="mb-0" action="{% url 'logout' %}" method="post">
      {% csrf_token %}
      <button class="btn btn-secondary" type="submit">Logout</button>
    </form>
  {% else %}
    <a class="btn btn-primary" href="{% url 'login' %}">Login</a>
  {% endif %}
</nav>

<!-- Main Layout -->
<div id="layout">
  <!-- Sidebar for large screens -->
  <aside id="sidebar" class="d-none d-md-block">
    <ul class="list-unstyled">
      <li><a href="{% url 'home' %}" class="text-decoration-none">Home</a></li>
      <li><a href="{% url 'tasks' %}" class="text-decoration-none">Tasks</a></li>
    </ul>
  </aside>

  <!-- Main Content -->
  {% block main %}
  <main id="content">
    <h1>Main Content</h1>
    <p>This is where your main page content will go.</p>
  </main>
  {% endblock %}
</div>

<!-- Offcanvas Sidebar for mobile -->
<div class="offcanvas offcanvas-start d-md-none" tabindex="-1" id="offcanvasSidebar">
  <div class="offcanvas-header">
    <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
  </div>
  <div class="offcanvas-body">
    <ul class="list-unstyled">
      <li><a href="{% url 'home' %}" class="text-decoration-none">Home</a></li>
      <li><a href="{% url 'tasks' %}" class="text-decoration-none">Tasks</a></li>
    </ul>
  </div>
</div>

{% endblock %}